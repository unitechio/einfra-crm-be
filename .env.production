# EINFRA CRM Backend - Environment Variables

# ============================================
# Server Configuration
# ============================================
SERVER_PORT=:8080
SERVER_HOST=0.0.0.0
SERVER_READ_TIMEOUT=30s
SERVER_WRITE_TIMEOUT=30s
SERVER_SHUTDOWN_TIMEOUT=10s
SERVER_MODE=debug  # debug, release, test

# ============================================
# Database Configuration (PostgreSQL)
# ============================================
DB_HOST=localhost
DB_PORT=5432
DB_USER=einfra
DB_PASSWORD=einfra123
DB_NAME=einfra_crm
DB_SSLMODE=disable  # disable, require, verify-ca, verify-full
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=5
DB_CONN_MAX_LIFETIME=300  # seconds
DB_AUTO_MIGRATE=true

# ============================================
# Authentication & Security
# ============================================
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-min-32-chars
JWT_EXPIRATION=3600  # 1 hour in seconds
REFRESH_TOKEN_EXPIRY=604800  # 7 days in seconds
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_SPECIAL=true

# ============================================
# SMTP Configuration (Email)
# ============================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@einfra.com

# ============================================
# File Storage
# ============================================
STORAGE_IMAGE_PATH=./uploads/images
STORAGE_MAX_SIZE_MB=10
STORAGE_ALLOWED_EXT=jpg,jpeg,png,gif,webp

# ============================================
# Docker Configuration
# ============================================
DOCKER_HOST=unix:///var/run/docker.sock
DOCKER_API_VERSION=1.43
DOCKER_TIMEOUT=30  # seconds
DOCKER_TLS_VERIFY=false

# ============================================
# Kubernetes Configuration
# ============================================
K8S_CONTEXT=default
K8S_CONFIG_PATH=~/.kube/config
K8S_TIMEOUT=30  # seconds

# ============================================
# Harbor Registry Configuration
# ============================================
HARBOR_URL=https://harbor.example.com
HARBOR_USERNAME=admin
HARBOR_PASSWORD=Harbor12345
HARBOR_TIMEOUT=30  # seconds
HARBOR_INSECURE=false  # Set to true to skip TLS verification

# ============================================
# Monitoring & Metrics
# ============================================
MONITORING_ENABLED=true
PROMETHEUS_PORT=:9090
METRICS_PATH=/metrics

# ============================================
# Logging Configuration
# ============================================
LOG_LEVEL=info  # debug, info, warn, error, fatal
LOG_FORMAT=json  # json, text
LOG_OUTPUT=stdout  # stdout, file
LOG_FILE_PATH=./logs/app.log
LOG_MAX_SIZE_MB=100
LOG_MAX_BACKUPS=3
LOG_MAX_AGE_DAYS=28
LOG_COMPRESS=true

# ============================================
# Rate Limiting
# ============================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MIN=100
RATE_LIMIT_BURST=20

# ============================================
# Redis Configuration (Optional)
# ============================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_POOL_SIZE=10

# ============================================
# MinIO Configuration (Optional)
# ============================================
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_USE_SSL=false
MINIO_BUCKET=einfra-crm

# ============================================
# OAuth2 Configuration (Optional)
# ============================================
# Google OAuth
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URL=http://localhost:8080/api/oauth/google/callback

# Azure AD OAuth
AZURE_CLIENT_ID=your-azure-client-id
AZURE_CLIENT_SECRET=your-azure-client-secret
AZURE_TENANT_ID=common
AZURE_REDIRECT_URL=http://localhost:8080/api/oauth/azure/callback

# ============================================
# Kafka Configuration (Optional)
# ============================================
KAFKA_BROKERS=localhost:9092
KAFKA_TOPIC=einfra-events
KAFKA_GROUP_ID=einfra-crm-group

# ============================================
# Keycloak Configuration (Optional)
# ============================================
KEYCLOAK_URL=http://localhost:8080
KEYCLOAK_REALM=einfra
KEYCLOAK_CLIENT_ID=einfra-crm
KEYCLOAK_CLIENT_SECRET=your-client-secret
